<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>2025~2030 업무용 다이어리</title>
<style>
  body {font-family:"맑은 고딕",sans-serif;margin:20px;background:#f8f8f8}
  .diary{max-width:1180px;margin:0 auto;background:white;padding:40px;border-radius:15px;box-shadow:0 8px 30px rgba(0,0,0,0.15)}
  table{width:100%;border-collapse:collapse;table-layout:fixed;margin-top:20px}
  th,td{border:1px solid #999;height:108px;vertical-align:top;font-size:7pt;padding:6px;position:relative}
  th{background:#2c3e50;color:white;height:38px}
  .day{position:absolute;top:5px;left:8px;font-weight:bold;font-size:11pt}
  .sun{color:#e74c3c}.sat{color:#2980b9}
  .today{background:#cde8ff!important;border:3px solid #2980b9!important}
  .weekend{background:#f8f8f8}
  textarea{width:100%;height:82px;border:none;resize:none;background:transparent;font-size:7pt;padding-top:24px;outline:none;box-sizing:border-box}
  h1{text-align:center;color:#2c3e50;margin:30px 0 50px;font-size:28pt}
  h2{text-align:center;margin:90px 0 20px;color:#2c3e50;font-size:24pt}
  .top-btn{position:fixed;bottom:30px;right:30px;background:#3498db;color:white;border:none;padding:15px 20px;border-radius:50%;font-size:18pt;cursor:pointer;box-shadow:0 4px 15px rgba(0,0,0,0.3);z-index:1000}
</style>
</head>
<body>
<div class="diary">
  <h1>2025 ~ 2030 업무용 다이어리</h1>

<script>
const startYear = 2025;
const endYear = 2030;
const today = new Date();
let currentYear = today.getFullYear();
let currentMonth = today.getMonth();

// 오늘 날짜 문자열
const todayStr = today.getFullYear() + "-" + String(today.getMonth()+1).padStart(2,'0') + "-" + String(today.getDate()).padStart(2,'0');

for(let y = startYear; y <= endYear; y++){
  for(let m = 0; m < 12; m++){
    // 연도+월 제목에 고유 id 부여 (스크롤용)
    document.write(`<h2 id="y${y}m${m}">${y}년 ${m+1}월</h2>`);
    
    document.write('<table><tr>');
    ["일","월","화","수","목","금","토"].forEach(d=>document.write(`<th>${d}요일</th>`));
    document.write('</tr>');

    let d = new Date(y, m, 1);
    d.setDate(1 - d.getDay());

    while(d.getMonth() !== (m+1)%12 || d.getDay() !== 0){
      if(d.getDay()===0) document.write('<tr>');
      
      const dateStr = d.getFullYear()+"-"+String(d.getMonth()+1).padStart(2,'0')+"-"+String(d.getDate()).padStart(2,'0');
      const isThisMonth = d.getFullYear()===y && d.getMonth()===m;
      const isToday = dateStr===todayStr;
      const isWeekend = d.getDay()===0 || d.getDay()===6;

      document.write(`<td class="${isWeekend?'weekend':''} ${isToday?'today':''}">`);
      if(isThisMonth){
        document.write(`<div class="day ${d.getDay()===0?'sun':''} ${d.getDay()===6?'sat':''}">${d.getDate()}</div>`);
        const saved = localStorage.getItem('diary_'+dateStr) || '';
        document.write(`<textarea oninput="localStorage.setItem('diary_${dateStr}',this.value)">${saved}</textarea>`);
      }
      document.write('</td>');
      
      if(d.getDay()===6) document.write('</tr>');
      d.setDate(d.getDate()+1);
    }
    document.write('</table>');
  }
}

// 페이지 로드 후 자동으로 오늘 있는 달로 스크롤
window.onload = function() {
  if(currentYear >= startYear && currentYear <= endYear){
    const target = document.getElementById(`y${currentYear}m${currentMonth}`);
    if(target){
      target.scrollIntoView({behavior:"smooth", block:"center"});
      // 약간 위로 올려서 제목이 잘 보이게
      window.scrollBy(0, -100);
    }
  }
};
</script>

  <button class="top-btn" onclick="window.scrollTo({top:0,behavior:'smooth'})">↑</button>
</div>

<p style="text-align:center;margin:100px 0 50px;color:#27ae60;font-size:15pt">
  2025 ~ 2030년까지 6년치 완전 수록 · 접속하면 자동으로 오늘 달로 이동<br>
  메모는 브라우저에 영구 저장 · 이 주소 하나로 평생 사용 가능
</p>
</body>
</html>
